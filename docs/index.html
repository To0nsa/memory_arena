<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>memory_arena: Memory_Arena</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">memory_arena
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Memory_Arena </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> <img src="https://img.shields.io/badge/license-MIT-green.svg" alt="License: MIT" style="pointer-events: none;" class="inline"/> <img src="https://img.shields.io/badge/language-C-blue.svg" alt="Language: C" style="pointer-events: none;" class="inline"/> <img src="https://img.shields.io/badge/build%20system-CMake-informational" alt="CMake" class="inline"/> <img src="https://img.shields.io/badge/platform-Linux-informational" alt="Platform: Linux" class="inline"/> <img src="https://img.shields.io/badge/pkg--config-supported-brightgreen" alt="Pkg-config" class="inline"/> <img src="https://img.shields.io/badge/library-static%20%2B%20shared-blue" alt="Library: Static + Shared" class="inline"/> <img src="https://img.shields.io/badge/thread--safe-optional-yellow" alt="Thread-safe" class="inline"/> <img src="https://img.shields.io/badge/tested%20with-CTest-green" alt="Tested with CTest" class="inline"/></p>
<blockquote class="doxtable">
<p>&zwj;<code>Memory_Arena</code> is a lightweight, high-performance memory allocator written in C, fully compatible with C++. </p>
</blockquote>
<p><a href="https://github.com/to0nsa/Memory_Arena">ğŸ”— View on GitHub</a> <b><a href="https://to0nsa.github.io/memory_arena/">ğŸ“š View full documentation</a></b></p>
<hr  />
<h1><a class="anchor" id="autotoc_md1"></a>
ğŸ¯ Introduction</h1>
<p><code>Memory_Arena</code> is a lightweight, high-performance memory allocator written in C, fully compatible with C++. Designed around the arena allocation model, it organizes memory allocations into contiguous blocks for rapid allocation and bulk deallocation, significantly improving speed, memory efficiency, and reducing fragmentation. Library that is especially useful for systems programming, game engines, real-time applications, and scenarios where performance and memory efficiency are critical.</p>
<p>Instead of individually managing numerous memory operations (like <code>malloc</code> and <code>free</code>), it allows you to reset or reuse entire memory regions at once, perfect for scenarios involving temporary data, real-time rendering, or modular systems.</p>
<p><code>Memory_Arena</code> is a lightweight, high-performance memory allocator written in C, fully compatible with C++. It leverages the arena allocation model to organize memory allocations into contiguous blocks, providing rapid allocation and bulk deallocationâ€”ideal for systems programming, game engines, real-time applications, and scenarios where performance and memory efficiency are critical.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md2"></a>
ğŸ“š About the Project</h1>
<p>I created this project after completing the C programming curriculum at Hive Helsinki (part of the 42 Network). My main goal was to deepen my understanding of <b>low-level memory management</b>, <b>system programming</b> and improve my skills by tackling practical challenges related to memory, performance, and <b>library architecture</b>.</p>
<p>Throughout the development of <code>Memory_Arena</code>, I've:</p>
<ul>
<li>Explored and implemented advanced memory management techniques such as arena allocators, scratch arenas, and stack-like memory handling.</li>
<li>Integrated thorough testing methods, leveraging AddressSanitizer (ASAN) and ThreadSanitizer (TSAN) to ensure robust memory and thread safety.</li>
<li>Handled multi-threaded scenarios carefully, designing thread-safe mechanisms to enable concurrent memory operations without significant performance hits.</li>
<li>Focused on usability, providing clear documentation, straightforward API design, and robust build configurations with CMake and pkg-config support.</li>
<li>Gained experience in debugging and optimizing for performance, balancing speed, and reliability.</li>
</ul>
<p>This project is part of my learning journey with C, demonstrating my ability to handle complex technical tasks, organize large-scale codebases effectively, and adhere to modern software development practices.</p>
<p>Ultimately, my goal is to deliver a library that is both educational for peers exploring systems programming, and genuinely useful as an efficient tool for developers tackling memory-intensive tasks.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md3"></a>
âœ¨ &lt;tt&gt;Memory_Arena&lt;/tt&gt; Features</h1>
<details >
<summary >
<b> See <code>Memory_Arena</code> Features </b></summary>
<p></p>
<p>âš¡ <b>Fast Bump Allocation</b> Allocations are performed linearly via pointer bumping, which offers near-zero overhead and avoids costly malloc bookkeeping. Ideal for temporary or scoped allocations.</p>
<p>ğŸ”§ <b>Flexible Allocation</b> Allocate raw or zeroed memory, reallocate in place, or tag with debug labels. Supports alignment, hooks, stats, and thread safety. Designed for speed, clarity, and controlâ€”without manual frees or fragmentation.</p>
<p>ğŸ”„ <b>Dynamic Growth &amp; Shrinkage</b> Arenas can automatically grow and optionally shrink when memory usage changes. This provides flexibility while maintaining predictable performance characteristics.</p>
<p>ğŸ” <b>Sub-Arenas &amp; Markers</b> Supports nested memory scopes via sub-arenas and arena_mark/arena_pop. Useful for implementing undo/rollback systems or scoped temporary memory.</p>
<p>ğŸ§µ <b>Thread-Safety (Opt-In)</b> Enable safe multithreaded access to arena structures using <code>ARENA_ENABLE_THREAD_SAFE</code>. Internally guarded by recursive mutexes for safe reentry.</p>
<p>ğŸŒ€ <b>Temporary Scratch Arenas</b> Memory_Arena provides two systems for fast, reusable temporary memory: ğŸ”¢ <b>Scratch Arena Pool (arena_scratch)</b> Fast, reusable memory slots ideal for temporary workloads. Acquire/reset arenas on demand with thread-safe access, atomic tracking, and minimal overhead. Perfect for per-frame or per-task use. ğŸ§µ <b>Thread-Local Scratch Arenas (arena_tlscratch)</b> Each thread gets its own fast, auto-resetting arena. Zero locks, zero setup after init, and perfect for throwaway allocations in tight loops or parallel workloads.</p>
<p>ğŸ—‚ï¸ <b>Scoped Stack Frames</b> Use <code><a class="el" href="arena_8h.html#abc6eabbcdd6ff5c3c187cd782644dfff">arena_mark()</a></code> and <code><a class="el" href="arena_8h.html#a43f443882d11939468a2c6a33bdb88af">arena_pop()</a></code> to create scoped memory lifetimes within an arena. Perfect for recursive algorithms, temporary parse buffers, or structured rollback. Fast, deterministic, and zero heap allocationsâ€”stack frames live inside the arena itself.</p>
<p>ğŸ’¾ <b>Arena Snapshots</b> Save and load arena memory to .bin files. Includes magic header/versioning, offset tracking, and buffer content. Great for debugging, state persistence, or fast startup by restoring memory from disk. Only works with arenas that own their buffer.</p>
<p>ğŸ–¼ï¸ <b>Interactive Memory Visualizer</b> A curses-based terminal visualizer is provided (using Notcurses) to observe arena activity live, allocations, resets, growth, and more. Helpful for profiling, education, or debugging.</p>
<p>ğŸ§© <b>Allocation Labels &amp; Hooks</b> Attach labels to allocations for better diagnostics, or use custom hooks to monitor memory usage and capture metadata in real time.</p>
<p>ğŸ“Š <b>Debug Stats &amp; Growth Tracking</b> Internal statistics provide detailed insight into memory usage, peak allocations, growth events, and frame stack depth.</p>
<p>ğŸ› ï¸ <b>Debug-Ready</b> Built-in support for AddressSanitizer, ThreadSanitizer, and debug stats through CMake presets.</p>
<p>â˜£ï¸ <b>Memory Poisoning for Debugging</b> Enable <code>ARENA_POISON_MEMORY</code> to fill freed memory with a poison pattern, helping you catch use-after-free bugs during development.</p>
<p>ğŸ§ª <b>Fully Tested</b> Includes over 30 unit and multithreaded tests. Supports ASAN, TSAN, and custom debug checks with <a class="el" href="group__arena__debug.html#gad19e051bc49dc6b6dcda0f31561e222d" title="Report an error from an arena using its configured error callback.">arena_report_error()</a> on critical paths.</p>
<p>ğŸª¶ <b>Minimal Dependencies</b> Written in pure C11 with no external dependencies outside optional visualizer.</p>
<p>ğŸ“š <b>Well Documented</b> Each function and internal module is documented using Doxygen with usage examples, groupings, and full cross-references. <b><a href="https://to0nsa.github.io/memory_arena/">View full documentation</a></b></p>
<p></p>
</details>
<hr  />
<h1><a class="anchor" id="autotoc_md4"></a>
ğŸš€Usage guide</h1>
<details >
<summary >
<b> See Usage Guide </b></summary>
<p></p>
<p></p>
</details>
<h2><a class="anchor" id="autotoc_md5"></a>
ğŸ§± Static and Shared Library Builds</h2>
<p>This project builds the memory arena as both:</p>
<ul>
<li>**<code>Memory_Arena_static</code>** â€” a static library (<code>.a</code>), linked directly into your program.</li>
<li>**<code>Memory_Arena_shared</code>** â€” a shared library (<code>.so</code>), loaded at runtime by the system (linked with <code>pthread</code>).</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md6"></a>
ğŸ”° Prerequisites</h2>
<details >
<summary >
<b> See Prerequisites </b></summary>
<p></p>
<p>Make sure the following tools are installed on your system:</p>
<ul>
<li><b>CMake â‰¥ 3.16</b></li>
<li><b>Ninja</b> (for fast builds via <code>--preset</code>)</li>
<li><b>GCC / Clang</b> (any modern C compiler)</li>
<li><b>pkg-config</b> (for non-CMake users)</li>
<li><b>Notcurses</b> (if you plan to build and run the <code>visualizer</code>)</li>
</ul>
<p></p>
</details>
<hr  />
<h2><a class="anchor" id="autotoc_md7"></a>
ğŸ§ª Debugging &amp; Sanitizer Options</h2>
<details >
<summary >
<b> See Debugging &amp; Sanitizer Options </b></summary>
<p></p>
<p>To help catch memory leaks, bugs, race conditions, deadlocks early, this project includes optional sanitizer support and debug features built into the CMake configuration.</p>
<p>You can enable the following features by setting CMake options (using presets or <code>-D</code> flags):</p>
<ul>
<li>**<code>USE_ADDRESS_SANITIZER</code>** â€” Detects memory errors like use-after-free, buffer overflows, etc.</li>
<li>**<code>USE_THREAD_SANITIZER</code>** â€” Detects data races in multi-threaded programs.</li>
<li>**<code>ARENA_DEBUG_CHECKS</code>** â€” Adds runtime checks to verify internal consistency.</li>
<li>**<code>ARENA_POISON_MEMORY</code>** â€” Overwrites memory with a known pattern when freed (e.g. <code>0xDEADBEEF</code>) to detect use-after-free.</li>
<li>**<code>ARENA_ENABLE_THREAD_SAFE</code>** â€” Enables mutex locking inside the allocator for safe multi-threaded usage.</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;âš ï¸ You <b>cannot</b> enable both ASAN and TSAN at the same time â€” the build will fail with a clear error if you try. </p>
</blockquote>
<p>These options are defined in:</p>
<ul>
<li><code>SanitizerConfig.cmake</code> â€” applied conditionally based on flags</li>
<li>The top-level <code>CMakeLists.txt</code> â€” integrates them into the build and install process</li>
</ul>
<p>By using these, you can easily switch between production-ready builds and debug-friendly builds to help test your project more safely.</p>
<p></p>
</details>
<hr  />
<h2><a class="anchor" id="autotoc_md8"></a>
ğŸ”§ Build Presets</h2>
<details >
<summary >
<b> See Build Presets </b></summary>
<p></p>
<p>The project uses <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html">CMake presets</a> to manage different build configurations.</p>
<p>Use one of the following commands to configure a build:</p>
<div class="fragment"><div class="line">cmake --preset debug      # Debug + extra checks</div>
<div class="line">cmake --preset asan       # AddressSanitizer (memory issues)</div>
<div class="line">cmake --preset tsan       # ThreadSanitizer (thread safety issues)</div>
<div class="line">cmake --preset release    # Optimized build for distribution</div>
</div><!-- fragment --><p>Each preset enables or disables certain safety and debug features:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Preset   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Thread-Safe   </th><th class="markdownTableHeadNone">Poison Memory   </th><th class="markdownTableHeadNone">Debug Checks   </th><th class="markdownTableHeadNone">AddressSanitizer   </th><th class="markdownTableHeadNone">ThreadSanitizer   </th><th class="markdownTableHeadNone">Tests Enabled    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>debug</code>   </td><td class="markdownTableBodyNone">Debug   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âœ…    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>asan</code>   </td><td class="markdownTableBodyNone">Debug   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âœ…    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>tsan</code>   </td><td class="markdownTableBodyNone">Debug   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âœ…    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>release</code>   </td><td class="markdownTableBodyNone">Release   </td><td class="markdownTableBodyNone">âœ…   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âŒ   </td><td class="markdownTableBodyNone">âŒ   </td></tr>
</table>
<blockquote class="doxtable">
<p>&zwj;ğŸ”¹ <b>Thread-Safe</b>: Enables mutex locking internally. <br  />
 ğŸ”¹ <b>Poison Memory</b>: Fills freed memory with patterns (e.g. <code>0xDEADBEEF</code>) to catch bugs. <br  />
 ğŸ”¹ <b>Debug Checks</b>: Adds runtime checks for allocation errors, bounds, and double frees. <br  />
 ğŸ”¹ <b>ASAN/TSAN</b>: Compiler-level tools to detect bugs at runtime. </p>
</blockquote>
</details>
<hr  />
<h2><a class="anchor" id="autotoc_md9"></a>
ğŸ› ï¸ Build Targets</h2>
<details >
<summary >
<b> See Build Targets </b></summary>
<p></p>
<p>Once you've configured a preset (e.g. cmake &ndash;preset debug), you can build using these commands:</p>
<p></p>
</details>
<h3><a class="anchor" id="autotoc_md10"></a>
ğŸ”§ Common Build Commands</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>cmake --build --preset release</code>   </td><td class="markdownTableBodyNone">Build an optimized release version    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>cmake --build --preset asan</code>   </td><td class="markdownTableBodyNone">Build with AddressSanitizer (memory error detection)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>cmake --build --preset tsan</code>   </td><td class="markdownTableBodyNone">Build with ThreadSanitizer (race condition checker)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>cmake --build --preset debug</code>   </td><td class="markdownTableBodyNone">Build to check debugs   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md11"></a>
ğŸ§ª Example Workflow</h3>
<div class="fragment"><div class="line"># Configure with Debug preset</div>
<div class="line">cmake --preset debug</div>
<div class="line"> </div>
<div class="line"># Build the library, tests, and tools</div>
<div class="line">cmake --build --preset debug</div>
<div class="line"> </div>
<div class="line"># Run unit Memory_Arena tests</div>
<div class="line">ctest --preset debug</div>
</div><!-- fragment --><p>You can replace <code>debug</code> with <code>asan</code>, <code>tsan</code>, or <code>release</code> for different builds.</p>
<h3><a class="anchor" id="autotoc_md12"></a>
ğŸ› Debug Builds</h3>
<p>While these builds were originally designed to test the allocator itself, you can also use them while integrating the arena into your own program.</p>
<p>For example:</p>
<ul>
<li>ASAN can detect out-of-bounds or use-after-free bugs in <em>your</em> code.</li>
<li>TSAN will catch race conditions across threads using the arena or other data.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md13"></a>
ğŸ“š Using The Libraries</h2>
<details >
<summary >
<b> See Using The Libraries </b></summary>
<p></p>
<p></p>
</details>
<h3><a class="anchor" id="autotoc_md14"></a>
ğŸ”— Using the Static Library</h3>
<p>The static version (<code>libMemory_Arena.a</code>) is linked directly into your binary. It requires no special setup at runtime â€” ideal for portable or standalone builds.</p>
<div class="fragment"><div class="line">target_link_libraries(my_app PRIVATE Memory_Arena::static)</div>
</div><!-- fragment --><p>This will include the memory arena directly into your binary, making it easy to distribute without worrying about runtime dependencies.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md15"></a>
ğŸ“¦ Using the Shared Library</h3>
<p>The shared version (<code>libMemory_Arena.so</code>) is loaded by the system at runtime. You <b>must ensure the dynamic linker can locate it</b>.</p>
<h4><a class="anchor" id="autotoc_md16"></a>
âœ… Option 1: Install Globally</h4>
<div class="fragment"><div class="line">sudo cmake --install build/release</div>
</div><!-- fragment --><p>This installs the <code>.so</code> to <code>/usr/local/lib</code>, which is typically already searched by the system loader.</p>
<ul>
<li>âœ… <b>Pros</b>: Works out of the box once installed, system-wide availability.</li>
<li>âš ï¸ <b>Cons</b>: Requires <code>sudo</code>, may conflict with system packages if multiple versions are installed.</li>
</ul>
<h4><a class="anchor" id="autotoc_md17"></a>
âœ… Option 2: Set &lt;tt&gt;LD_LIBRARY_PATH&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">export LD_LIBRARY_PATH=/path/to/build/release:$LD_LIBRARY_PATH</div>
<div class="line">./my_app</div>
</div><!-- fragment --><p>Use this if you want to test without global installation. The environment variable tells the loader where to find your <code>.so</code>.</p>
<ul>
<li>âœ… <b>Pros</b>: Great for local testing, sandboxed environments, CI setups.</li>
<li>âš ï¸ <b>Cons</b>: Needs to be set <b>each time</b>, or exported in <code>.bashrc</code>/<code>.zshrc</code>.</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;ğŸ’¡ Tip: You can also wrap it in a one-liner: <code>LD_LIBRARY_PATH=build/release ./my_app</code> </p>
</blockquote>
<h4><a class="anchor" id="autotoc_md18"></a>
âœ… Option 3: Embed an rpath in Your Binary</h4>
<div class="fragment"><div class="line">set_target_properties(my_app PROPERTIES</div>
<div class="line">    INSTALL_RPATH &quot;$ORIGIN/../lib&quot;</div>
<div class="line">)</div>
</div><!-- fragment --><p>This embeds a path inside your binary, instructing it to look for the shared library relative to its install location.</p>
<ul>
<li>âœ… <b>Pros</b>: Self-contained, portable, no need for global installation or env variables.</li>
<li>ğŸ’¡ <code>$ORIGIN</code> refers to the location of the executable at runtime â€” useful when installing to a subfolder layout like:</li>
</ul>
<div class="fragment"><div class="line">my_app/</div>
<div class="line">â”œâ”€â”€ bin/</div>
<div class="line">â”‚   â””â”€â”€ my_app</div>
<div class="line">â””â”€â”€ lib/</div>
<div class="line">    â””â”€â”€ libMemory_Arena.so</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md19"></a>
ğŸ“‚ Consuming the Library</h2>
<details >
<summary >
<b> See Consuming the Library </b></summary>
<p></p>
<p>This project installs both CMake and pkg-config integration to simplify usage.</p>
<hr  />
<p></p>
</details>
<h3><a class="anchor" id="autotoc_md20"></a>
ğŸ”§ From CMake</h3>
<p>If you've installed the library globally (via <code>sudo cmake --install</code>), you can use <code>find_package</code>:</p>
<div class="fragment"><div class="line">find_package(Memory_Arena REQUIRED)</div>
<div class="line"> </div>
<div class="line"># Link to either the static or shared version</div>
<div class="line">target_link_libraries(my_app PRIVATE Memory_Arena::static) # or Memory_Arena::shared</div>
</div><!-- fragment --><p>You get access to:</p>
<ul>
<li>Include paths via <code>target_include_directories</code></li>
<li>Compile definitions like <code>ARENA_ENABLE_THREAD_SAFE</code></li>
</ul>
<p>ğŸ’¡ CMake will locate <code>Memory_ArenaTargets.cmake</code> and automatically configure everything.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md21"></a>
ğŸ“¦ From pkg-config</h3>
<p>If you're using a Makefile or a non-CMake build system:</p>
<div class="fragment"><div class="line">pkg-config --cflags Memory_Arena   # Get compiler flags</div>
<div class="line">pkg-config --libs Memory_Arena     # Get linker flags</div>
</div><!-- fragment --><p>Make sure <code>PKG_CONFIG_PATH</code> includes the install location (<code>/usr/local/lib/pkgconfig</code>).</p>
<div class="fragment"><div class="line">export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH</div>
</div><!-- fragment --><p>This allows any build system to integrate with <code>Memory_Arena</code> using the standard pkg-config interface.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md22"></a>
ğŸ§¹ Uninstall / Clean the Build</h2>
<details >
<summary >
<b> See Uninstall / Clean the Build </b></summary>
<p></p>
<p>If you need to fully clean the Memory_Arena project â€” including all build files, installed artifacts, and pkg-config data â€” follow these steps:</p>
<p></p>
</details>
<h3><a class="anchor" id="autotoc_md23"></a>
ğŸ—‘ï¸ 1. Clean the Build Directory</h3>
<p>If you used CMake presets (debug, release, etc.), simply delete the build folders:</p>
<div class="fragment"><div class="line">rm -rf build/</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md24"></a>
ğŸ§½ 2. Uninstall System-Wide Files</h3>
<p>If you've installed the library with:</p>
<div class="fragment"><div class="line">sudo cmake --install build/release</div>
</div><!-- fragment --><p>You can manually remove the installed files:</p>
<div class="fragment"><div class="line"># Remove the static and shared libraries</div>
<div class="line">sudo rm -f /usr/local/lib/libMemory_Arena.a</div>
<div class="line">sudo rm -f /usr/local/lib/libMemory_Arena.so</div>
<div class="line"> </div>
<div class="line"># Remove the installed headers</div>
<div class="line">sudo rm -rf /usr/local/include/arena_*.h</div>
<div class="line">sudo rm -f /usr/local/include/arena.h</div>
<div class="line"> </div>
<div class="line"># Remove CMake configuration</div>
<div class="line">sudo rm -rf /usr/local/lib/cmake/Memory_Arena</div>
<div class="line"> </div>
<div class="line"># Remove pkg-config file</div>
<div class="line">sudo rm -f /usr/local/lib/pkgconfig/Memory_Arena.pc</div>
</div><!-- fragment --><p>Make sure to check <code>/usr/local/lib</code>, <code>/usr/local/include</code>, and <code>/usr/local/lib/pkgconfig</code> if you customized the install path.</p>
<h3><a class="anchor" id="autotoc_md25"></a>
ğŸ§¼ 3. Reset pkg-config Environment</h3>
<p>If you had added this to your session:</p>
<div class="fragment"><div class="line">export PKG_CONFIG_PATH=/path/to/build/release:$PKG_CONFIG_PATH</div>
</div><!-- fragment --><p>It will reset on reboot, but you can manually unset it with:</p>
<div class="fragment"><div class="line">unset PKG_CONFIG_PATH</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md26"></a>
ğŸ§¹ 4. Remove Compilation Artifacts (Optional)</h3>
<p>You can also remove compile commands and CMake cache:</p>
<div class="fragment"><div class="line">rm -f compile_commands.json CMakeCache.txt</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md27"></a>
ğŸ“ Project Structure Overview</h1>
<details >
<summary >
<b> See Project Structure Overview </b></summary>
<p></p>
<div class="fragment"><div class="line">Memory_Arena/</div>
<div class="line">â”œâ”€â”€ benchmark/                     # Benchmarks for performance testing</div>
<div class="line">â”œâ”€â”€ cmake/                         # Custom CMake modules and templates</div>
<div class="line">â”‚   â”œâ”€â”€ Memory_Arena.pc.in         # Template for pkg-config .pc file</div>
<div class="line">â”‚   â”œâ”€â”€ Memory_ArenaConfig.cmake.in # Template for find_package() config</div>
<div class="line">â”‚   â”œâ”€â”€ FindMemory_Arena.cmake     # Manual fallback if find_package fails</div>
<div class="line">â”‚   â””â”€â”€ SanitizerConfig.cmake      # Enables ASAN / TSAN / debug macros via options</div>
<div class="line">â”œâ”€â”€ include/                       # Public header files (installed)</div>
<div class="line">â”‚   â”œâ”€â”€ internal/                  # Internal headers (not installed, private use only)</div>
<div class="line">â”‚   â”‚   â”œâ”€â”€ arena_internal.h       # Shared internal declarations and helpers</div>
<div class="line">â”‚   â”‚   â””â”€â”€ ...                    # Other private headers</div>
<div class="line">â”‚   â”œâ”€â”€ arena.h                    # Main API header</div>
<div class="line">â”‚   â””â”€â”€ ...                        # All other public headers (group, stack, stats, etc.)</div>
<div class="line">â”œâ”€â”€ srcs/                          # Implementation source files</div>
<div class="line">â”‚   â”œâ”€â”€ core/                      # Core arena logic</div>
<div class="line">â”‚   â”‚   â”œâ”€â”€ allocation/            # Low-level memory allocators (alloc, calloc, etc.)</div>
<div class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ arena_alloc.c</div>
<div class="line">â”‚   â”‚   â”‚   â””â”€â”€ ...</div>
<div class="line">â”‚   â”‚   â”œâ”€â”€ arena_cleanup.c        # Arena destruction and cleanup logic</div>
<div class="line">â”‚   â”‚   â””â”€â”€ ...</div>
<div class="line">â”‚   â””â”€â”€ internal/                  # Internal modules</div>
<div class="line">â”‚       â”œâ”€â”€ arena_internal.c</div>
<div class="line">â”‚       â””â”€â”€ ...</div>
<div class="line">â”œâ”€â”€ tests/                         # Unit tests for every module</div>
<div class="line">â”‚   â”œâ”€â”€ test_arena_alloc.c         # Test: arena_alloc behavior</div>
<div class="line">â”‚   â””â”€â”€ ...                        # Other tests: realloc, scratch, stack, etc.</div>
<div class="line">â”œâ”€â”€ .clang-format                  # Code formatting configuration</div>
<div class="line">â”œâ”€â”€ .gitignore                     # Files and folders to ignore in Git</div>
<div class="line">â”œâ”€â”€ CMakeLists.txt                 # Main CMake build configuration</div>
<div class="line">â”œâ”€â”€ CMakePresets.json              # Presets for common builds (debug, release, asan...)</div>
<div class="line">â”œâ”€â”€ DOXYGEN_STYLE_GUIDE.md         # Documentation style guide (Doxygen-based)</div>
<div class="line">â”œâ”€â”€ format_all.sh                  # Format all source files (via clang-format)</div>
<div class="line">â”œâ”€â”€ LICENCE                        # License of the project (MIT)</div>
<div class="line">â”œâ”€â”€ README.md                      # Main project overview and instructions</div>
<div class="line">â””â”€â”€ test_all.sh                    # Helper script to build &amp; run all tests</div>
</div><!-- fragment --><p></p>
</details>
<hr  />
<h1><a class="anchor" id="autotoc_md28"></a>
ğŸ“ License</h1>
<p>This project is licensed under the [MIT License](LICENSE).</p>
<p>You are free to use, modify, and distribute this code for academic, personal, or professional purposes. Attribution is appreciated but not required.</p>
<hr  />
<p>If you have any questions, suggestions, or feedback, feel free to reach out:</p>
<ul>
<li><b>ğŸ“§ Email:</b> <a href="#" onclick="location.href='mai'+'lto:'+'nic'+'ol'+'as.'+'lo'+'vis'+'@h'+'otm'+'ai'+'l.f'+'r'; return false;">nicol<span class="obfuscator">.nosp@m.</span>as.l<span class="obfuscator">.nosp@m.</span>ovis@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.f<span class="obfuscator">.nosp@m.</span>r</a></li>
<li><b>ğŸ’» GitHub:</b> <a href="https://github.com/to0nsa">github.com/to0nsa</a></li>
</ul>
<p>You're also welcome to open an issue or leave a comment on the repository. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
